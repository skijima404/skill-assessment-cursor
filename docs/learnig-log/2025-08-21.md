# 2025-08-21

## .cursor フォルダの理由

.cursor/ であることが前提（＝ドット始まりでリポ直下）。  
•	Cursor は .cursor/rules/*.md を自動で見つけて参照します。  
•	cursor/ など別名にすると 自動検出されず、毎回 @files で明示添付が必要になります。  
•	「隠す」必要があるというより、“製品の期待する置き場所”が .cursor/ という感じ。

---

## core.md の記述ルール

1) 太字（Language など）は何のため？  
	•	人間の可読性アップ：スクロール時に“柱”が一目で拾える。  
	•	機械にも優しい：**Key**: ルール のパターンはモデルが構造として読み取りやすい（必須ではないが安定しがち）。  
	•	つまり書式はルールじゃなく表現。気に入らなければ普通の箇条書きでも動く。

2) Key を英語にした理由（任意の運用ポリシー）  
	•	grep/検索がしやすい（Evidence, Security などは横断検索に強い）  
	•	他テンプレと合わせやすい（将来、英語の資料と混在してもブレない）  
	•	短いトークンで収まりが良い（日本語だと見出しが長くなりがち）

でもこれは好み＋運用の話。日本語キーでも問題なし。むしろ「日本語原則のADR-0001」に忠実なら、キーも日本語に寄せる選択は筋が通ってる。

---

## core.md に書くもの

数値的にあるいはなんらかの形でMeasurableでチェック可能なものを書く。  
達成基準。  
SLAとかKPIみたいなものだと思ったら良い。　　
コード生成の「Context」の位置付けであり、これをコード記述後にチェックしてくれるわけではない。  

よくある例

```
# Core Rules
- Language: プロンプト/READMEは日本語。外部公開例のみ英訳可。
- Output: ChatGPT=JSON-in-MD, Gemini=Table+JSON tail（テンプレ既定を厳守）。
- Diff: Agentは変更対象に限定し、差分最小。自動横断の拡張は禁止。
- Evidence: スコア/判断には根拠1行（ファイル/ADR参照）を必ず付ける。
- Quality: テンプレにはSelf-check節を保持。欠落時は再生成。
- Security: 秘匿情報・内部URLの生成/貼付を禁止。外部リンクは明示確認。
- (Ops prep) K8s/OpenShiftは runAsNonRoot と resources 指定を既定（コード生成時）。
```

---

## Askモード vs Agentモード

### **Askモード**（今までの大部分）
**用途**: 質問・相談・情報収集・理解確認
- ファイル読み込み、検索、分析
- 既存コードの理解
- 設計方針の相談
- デバッグやエラー解析

**特徴**:
- ファイルを**読む**ことに特化
- 複数のツール（search、grep、read_file等）を並列実行
- 情報を集めて提案・アドバイスする
- **実際にファイルを変更しない**

**今回の例**: プロダクトブリーフ理解、既存ファイル調査、トークンチェック提案

---

### **Agentモード**（ファイル作成時）
**用途**: 実際の作業・ファイル作成・編集
- 新規ファイル作成
- コード編集・修正
- ファイルの移動・削除
- 設定ファイルの変更

**特徴**:
- **write**ツールが使える
- 実際にプロジェクトを変更する
- より「実行」に特化
- 慎重な確認が必要

**今回の例**: `prompts/po-roleplay.chatgpt.md`の作成

---

### 使い分けの判断基準

```
質問・相談・調査 → Askモード
「〜について教えて」「〜を理解したい」「〜はどこにある？」

実際の作業・変更 → Agentモード  
「〜を作成して」「〜を修正して」「〜を削除して」
```

### 実践的な学習アプローチ

今回のような**探索→設計→実装**のフローでは：

1. **Ask**: プロダクト理解、既存調査 
2. **Ask**: 構造設計、制約確認
3. **Agent**: ファイル作成・実装
4. **Ask**: レビュー・改善提案
5. **Agent**: 修正・最終調整

### 注意点

- **Agentモード**は実際にファイルを変更するので、慎重に
- **Askモード**でも十分な情報収集・設計ができる
- 迷ったら**Ask**から始める方が安全

この使い分けを意識すると、Cursorとの協働が効率的になりますね。

## 感想

- 全然いつも通りでできる。むしろChatGPTよりもコーディング寄りでチューニングされているのでだいぶ快適
- アプリのコンセプト相談からやってもいいかも。裏にGPTがいるので、多分いける。
- 最初にプロダクトのコンセプト、およびユーザーが持つ課題をまとめてしまうとブレなくて良さそう。今回はEpic Hypothesis Statement (EHS) を使ったが、いろいろ話した後にこの形式にまとめてもらうと良い
- が、多分これチャット数上限があるので、できれば他のGenAIでまとめた方が有効活用できる
